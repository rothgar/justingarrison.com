<div class="grid place-items-center mb-8">
  {{ $pag := .Paginator }}
  {{ $paginator := $pag }}
  {{ $adjacent_links := 2 }}
  {{ $max_links := (add (mul $adjacent_links 2) 1) }}
  {{ $lower_limit := (add $adjacent_links 1) }}
  {{ $upper_limit := (sub $paginator.TotalPages $adjacent_links) }}
  <nav class="pagination" role="navigation" aria-label="pagination">
    <ul class="pagination-list flex flex-wrap justify-center gap-2">
      {{- if $paginator.HasPrev -}}
      <li>
        <a href="{{ $paginator.Prev.URL }}" class="pagination-link px-3 py-1 border rounded hover:bg-gray-100 dark:hover:bg-gray-700" aria-label="Previous page">&laquo;</a>
      </li>
      {{- end -}}
      {{- range $paginator.Pagers -}}
        {{- $page_number := .PageNumber -}}
        {{- if eq $page_number 1 -}}
          <li>
            <a href="{{ .URL }}" class="pagination-link px-3 py-1 border rounded {{ if eq $pag.PageNumber 1 }}bg-blue-500 text-white{{ else }}hover:bg-gray-100 dark:hover:bg-gray-700{{ end }}" aria-label="Page {{ $page_number }}">{{ $page_number }}</a>
          </li>
        {{- else if le $page_number $lower_limit -}}
          <li>
            <a href="{{ .URL }}" class="pagination-link px-3 py-1 border rounded {{ if eq $pag.PageNumber $page_number }}bg-blue-500 text-white{{ else }}hover:bg-gray-100 dark:hover:bg-gray-700{{ end }}" aria-label="Page {{ $page_number }}">{{ $page_number }}</a>
          </li>
        {{- else if ge $page_number $upper_limit -}}
          <li>
            <a href="{{ .URL }}" class="pagination-link px-3 py-1 border rounded {{ if eq $pag.PageNumber $page_number }}bg-blue-500 text-white{{ else }}hover:bg-gray-100 dark:hover:bg-gray-700{{ end }}" aria-label="Page {{ $page_number }}">{{ $page_number }}</a>
          </li>
        {{- else if eq $page_number $paginator.TotalPages -}}
          <li>
            <a href="{{ .URL }}" class="pagination-link px-3 py-1 border rounded {{ if eq $pag.PageNumber $page_number }}bg-blue-500 text-white{{ else }}hover:bg-gray-100 dark:hover:bg-gray-700{{ end }}" aria-label="Page {{ $page_number }}">{{ $page_number }}</a>
          </li>
        {{- else if and (ge $page_number (sub $pag.PageNumber $adjacent_links)) (le $page_number (add $pag.PageNumber $adjacent_links)) -}}
          <li>
            <a href="{{ .URL }}" class="pagination-link px-3 py-1 border rounded {{ if eq $pag.PageNumber $page_number }}bg-blue-500 text-white{{ else }}hover:bg-gray-100 dark:hover:bg-gray-700{{ end }}" aria-label="Page {{ $page_number }}">{{ $page_number }}</a>
          </li>
        {{- else if eq $page_number (sub $pag.PageNumber (add $adjacent_links 1)) -}}
          <li><span class="pagination-ellipsis px-2">&hellip;</span></li>
        {{- else if eq $page_number (add $pag.PageNumber (add $adjacent_links 1)) -}}
          <li><span class="pagination-ellipsis px-2">&hellip;</span></li>
        {{- end -}}
      {{- end -}}
      {{- if $paginator.HasNext -}}
      <li>
        <a href="{{ $paginator.Next.URL }}" class="pagination-link px-3 py-1 border rounded hover:bg-gray-100 dark:hover:bg-gray-700" aria-label="Next page">&raquo;</a>
      </li>
      {{- end -}}
    </ul>
  </nav>
</div>
